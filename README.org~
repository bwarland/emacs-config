#+TITLE: Konfigurering av Emacs
#+PROPERTY: 
#+STARTUP: overview num
* Kilder og forbilder
** Gode eksempler
*** [[http://doc.norang.ca/org-mode.html][Bernt Hansen sin emacs-konfigurering]]
Den første emacskonfigurasjonen jeg kopierte mer eller mindre alt av og testet den gang jeg var rimelig fersk. Og ennå så tror jeg store deler av org-mode konfigurasjonen min bygger på hans oppsett. Dette er en kar som har rimelig god kontroll over verktøyet Emacs. 

Sett bort fra det at hans arbeidsflyt ikke helt passer min - til det er den litt for regimentert - så er det at hav av gode eksempler her. Det var med denne jeg først lærte å bruke Emacs og org-mode for noen år siden. 
* Pakker
Konfigurasjon knyttet til moduler og pakker. 
** Generell konfigurering inkludert pakkearkiv
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/pakker.el"
  (setq package-enable-at-startup nil)
  (package-initialize)
  (cond ((eq system-type 'windows-nt) (setq package-archives '(("elpa" . "https://elpa.gnu.org/packages/"))))
        ((eq system-type 'gnu/linux) (setq package-archives '(("elpa" . "https://elpa.gnu.org/packages/")
                                                            ("marmalade" . "https://marmalade-repo.org/packages/")
                                                            ("org" . "https://orgmode.org/elpa/")
                                                            ("melpa" . "https://melpa.org/packages/")
                                                            ))))
#+end_src

** [[https://github.com/jwiegley/use-package][Use-package]] 
Denne pakken er laget for det å samle konfigurasjon knyttet til en pakke, og på det viset legge opp til en ryddigere konfigurasjonfil, og man kan kontrollere lasting av pakker slik at man kan korte ned på oppstartstid for Emacs.
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/pakker.el"
  (eval-when-compile
    (require 'use-package))

  (setq use-package-always-ensure t
        ;; use-package-always-ensure t
        use-package-verbose nil
        use-package-expand-minimally t
        use-package-enable-imenu-support t
      
        )
#+end_src
** Quelpa
Dette er en pakke som brukes for å bygge pakker fra lokal eller ekstern kilde. Quelpa funksjonen nederst som viser til "https://github.com/l3kn/org-fc" (dette er org flashcards) er jeg litt usikker hvorfor jeg har lagt inn, jeg kan ikke huske når denne kom til verden. Og reelt sett så skulle vel denne kommandoen kjøres kun en gang i det at man neppe trenger å laste ned org-flash hver gang man starter opp Emacs.
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/pakker.el"
  (unless (package-installed-p 'quelpa)
    (with-temp-buffer
      (url-insert-file-contents "https://raw.githubusercontent.com/quelpa/quelpa/master/quelpa.el")
      (eval-buffer)
      (quelpa-self-upgrade)))
  ;; (quelpa '(discover-my-major :fetcher git :url "https://github.com/l3kn/org-fc"))
#+end_src
** Automatisk oppdatering
For periodisk, automatisk oppdatering av Emacs-pakker. Denne fant jeg i Dave Wilson sin youtube-snutt https://www.youtube.com/watch?v=dtjq68F2dXw&t=839s. 
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/pakker.el"
  (use-package auto-package-update
    :defer t
    :custom
    (auto-package-update-interval 14)
    (auto-package-update-prompt-before-update t)
    (auto-package-update-hide-results t)
    :config
    (auto-package-update-maybe)
    (auto-package-update-at-time "09:00")
    )
#+end_src
* Generelt
En samling av ulik konfigurasjon knyttet til hvordan Emacs ser ut og hvordan Emacs generelt fungerer.
** Utseende
*** Meny
Jeg synes at menyer generelt sett i Emacs gir visuell støy. Og hva oppstartsbeskjeder angår så forstår jeg lite av disse. Derfor slår jeg av det meste. 
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/generelt.el"
    (when window-system
      (tooltip-mode -1)
      (tool-bar-mode -1)
      (menu-bar-mode -1)
      (scroll-bar-mode -1))
  (setq inhibit-startup-message t)
  ;; (set-fringe-mode 0)
  (setq visible-bell t)
  (global-visual-line-mode t)
  (display-time-mode 1)
#+end_src
*** Maskinspesifik generell konfigurasjon
**** Basis font
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/generelt.el"
  (cond ((eq system-type 'windows-nt) (set-frame-font "Consolas-14"))
        ((string= system-name "macebell") (set-frame-font "Liberation Mono-15"))
        ((string= system-name "kbell") (set-frame-font "Liberation Mono-11"))
        ((string= system-name "ingentingen") (set-frame-font "Liberation Mono-12")))
#+end_src
*** Doom modeline
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/generelt.el"
  (use-package doom-modeline
    :ensure t
    :init (doom-modeline-mode 1)
    :config (setq doom-modeline-bar-height 25
                  doom-modeline-bar-width 3
                  doom-modeline-buffer-encoding t
                  doom-modeline-workspace-name t))
  ;; (use-package doom-themes
    ;; :init (load-theme 'doom-palenight t))
#+end_src
** Forskjellig
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/generelt.el"
(put 'downcase-region 'disabled nil)
(set-language-environment "UTF-8")
#+end_src
** Tekstkontroll
*** Forkortelser
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/generelt.el"
(setq abbrev-file-name "~/.emacs.d/abbrev_defs")
(setq save-abbrevs 'silent)
(setq-default abbrev-mode t)
#+end_src
*** Tekstmarkering
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/generelt.el"
    (use-package hi-lock
      :defer t
      :bind (("M-o l" . highlight-lines-matching-regexp)
             ("M-o r" . highlight-regexp)
             ("M-o w" . highlight-phrase)))
#+end_src
** Visning av kommandoer
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/generelt.el"
  (use-package command-log-mode
    :defer t
    :bind
    ("C-c <f10>" . clm/toggle-command-log-buffer)
    :config
    (global-command-log-mode t))
#+end_src
** Oppstart av Emacs
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/generelt.el"
(emacs-init-time)
;; Use a hook so the message doesn't get clobbered by other messages.
(add-hook 'emacs-startup-hook
          (lambda ()
            (message "Emacs ready in %s with %d garbage collections."
                     (format "%.2f seconds"
                             (float-time
                              (time-subtract after-init-time before-init-time)))
                     gcs-done)))

(setq gc-cons-threshold (* 50 1000 1000))
#+end_src
** Legg til når Emacs laster
Denne filen har jeg lastet ned i fra GitHub og det er noe jeg trenger for å få org-babel til å kjøre programmeringsspråket Racket.
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/generelt.el"
(add-to-list 'load-path "~/.emacs.d/ob-racket-master/")
#+end_src
* Fullføring
** Helm 
*** [[https://emacs-helm.github.io/helm/#introduction][Generelt]]
Pakke som lager et rammeverk for søking og innsnevring av valg og for det å fullføre navn på filer og kommandoer og så videre. 
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/helm-konf.el"
  (use-package helm
    :ensure t
    :bind (
           ("M-x" . helm-M-x)
           ("C-x C-f" . helm-find-files)
           ("C-x f" . helm-recentf)
           ("M-y" . helm-show-kill-ring)
           ("C-x b" . helm-buffers-list)	;
           ("C-x c y" . helm-yas-complete)
           ("C-x c Y" . helm-yas-create-snippet-on-region)
           ("C-c h o" . helm-occur)
           ("C-c h x" . helm-register)
           ("C-c <f9>" . helm-calcul-expression)
           ("C-c <f1>" . helm-colors)
           ("M-p" . helm-previous-line)
           ("M-k" . helm-next-line)
           ("M-I" . helm-previous-page)
           ("M-K" . helm-next-page)
           ("M-h" . helm-beginning-of-buffer)
           ("M-H" . helm-end-of-buffer)
           )
    :init
    (setq helm-buffers-lazy-matching t
          helm-recentf-fuzzy-match t
          helm-locate-fuzzy-match t
          helm-split-window-in-side-p t
          helm-lisp-fuzzy-completion t
          helm-autoresize-max-height 0
          helm-autoresize-min-height 20)
    :config
    (ido-mode -1)
    (helm-mode 1)
    (helm-autoresize-mode 1))
  (when (eq system-type 'gnu/linux) (use-package helm-ls-git
                                      :after helm
                                      :bind (("C-x C-d" . helm-browse-project)
                                             ("C-x r p" . helm-projects-history))))
#+end_src
*** Swiper-Helm
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/helm-konf.el"
(use-package swiper-helm
  :ensure t
  :bind ("C-s" . swiper-helm))
#+end_src
* Flermarkør
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/flere-markører.el"
    (use-package multiple-cursors
      :defer t
      :bind
      (
       ("C-c m t" . mc/mark-all-like-this)
       ("C-c m l" . mc/edit-lines)
       ("C-c m e" . mc/edit-end-of-lines)
       ("C-c m a" . mc/edit-beginning-of-lines)
       ("C-c m n" . mc/edit-next-line-like-this)
       ("C-c m p" . mc/edit-previous-like-this)
       ("C-c m r" . set-rectangular-region-anchor)))
#+end_src
* Programmering
** Python
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/programmering.el"
  ;; (setq python-shell-completion-native-enable nil) 
  (setq python-shell-interpreter "/home/bwarland/anaconda3/bin/python3")
#+end_src
** Racket
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/programmering.el"
  (use-package racket-mode
    :defer t
    :config
    (when (eq system-type 'windows-nt) ((setq racket-racket-program "C:\\Program Files\\Racket\\racket.exe"
                                              racket-raco-program "C:\\Program Files\\Racket\\raco.exe"))))
(require 'ob-racket)
#+end_src

** SQLite
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/programmering.el"
(setq sql-sqlite-program "/home/bwarland/anaconda3/bin/sqlite3")
#+end_src
* Org-mode
Alle moduler og pakker som har med org-mode å gjøre.

Alle Org-Mode-konfigureringers mor: [[http://doc.norang.ca/org-mode.html][Bernt Hansen sin konfigurasjonsfil]].
** generelt
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/org-konf.el"
  (use-package org
    :mode (("\\.org$" . org-mode))
    :hook (org-mode . org-bullets-mode)
    :init
    (setq ;; UTSEENDE
            ;; ===================
     org-hide-leading-stars t
     org-startup-indented t
     org-startup-folded t
     initial-major-mode 'org-mode
     org-pretty-entities t
     org-pretty-entities-include-sub-superscripts nil
     org-use-fast-todo-selection t
     org-treat-s-cursor-todo-selection-as-state-change nil
     org-directory "~/GitHub"
     org-reverse-note-order nil
     org-refile-use-outline-path t 
     org-outline-path-complete-in-steps nil
     org-refile-allow-creating-parent-nodes (quote confirm)
     org-indirect-buffer-display 'current-window
     org-hide-emphasis-markers t
     org-tags-column -50
     org-hide-emphasis-marker t
     org-ellipsis " ..."
     org-archive-location "~/Documents/org-arkiv/arkiv.org::* TASK"
     org-todo-keywords (quote (
                               (sequence "TODO(t)" "NEXT(n)" "|" "DONE(d)")
                               (sequence "jour(j)" "fund(f)")))

     org-todo-keyword-faces (quote (("jour" :foreground "red" :background "white")
                                           ("fund" :foreground "blue" :background "white")
                                           ("TODO" :foreground "red" :background "white")
                                           ("NEXT" :foreground "blue" :background "white")
                                           ("DONE" :foreground "dark green" :background "white"))))
    :bind
    (("C-c o" . 'org-mode)
     ("C-c c" . 'org-capture)
     ("<f5>" . 'org-copy-subtree)
     ("C-c a" . 'org-agenda)
     ("C-c l" . 'org-store-link)
     ("C-c C-." . org-time-stamp)
     ("C-c C-t". 'org-todo)		;
     ("C-c t" . 'org-show-todo-tree)
     ("C-c C-w" . 'org-capture-refile)
     ("C-c C-k" . 'org-capture-kill))
    :config
    ;; (setq-default major-mode 'org-mode)
    )

#+end_src
** startmappe
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/org-konf.el"
(cond ((eq system-type 'windows-nt) (setq default-directory "~/C:Users/bjorwa/Documents/GitHub/"))
      ((eq system-type 'gnu/linux) (setq default-directory "~/GitHub/")))
#+end_src
** Agenda
*** Org-agenda
#+begin_src emacs-lisp
  (setq org-agenda-columns t
        org-agenda-tags-column -50
        org-agenda-include-deadlines t
        org-agenda-compact-blocks t
        org-agenda-block-seperator t
        org-agenda-span 5
        ;; AGENDA LOG
        org-agenda-start-with-log-mode t
        org-agenda-log-done 'note
        org-agenda-log-into-drawer t
        ;; TIME GRID
        org-agenda-use-time-grid t
        org-agenda-include-diary t
        org-agenda-skip-scheduled-if-done t
        org-agenda-skip-deadline-if-done t
        org-agenda-time-grid (quote ((daily today remove-match)
                                     (0600 0800 1000 1200 1400 1600)
                                     "      " "................")))
#+end_src
*** Org-Super-Agenda
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/org-konf.el"
  (when (eq system-type 'gnu/linux) (require 'org-super-agenda))

  (when (eq system-type 'gnu/linux)
    (use-package org-super-agenda
      :ensure t
      :config
      (org-super-agenda-mode 1)
      (setq org-super-agenda-groups
            '((:name "TIDSPLAN"
                     :time-grid t
                     :todo "TODO")
              (:name "Informatikk" :tag "informatikk")
              (:name "Emacs" :tag "emacs")
              (:name "GitHub" :tag "git")
              (:name "Linux" :tag "linux")
              (:name "Racket/Scheme" :tag "scheme")
              (:name "Python" :tag "python")
              (:name "Jobb" 
                     :tag "power_bi"
                     :tag "excel")
              (:discard (:tag "ikke_kal"))))))
#+end_src
** Filer mye brukt i omarkivering
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/org-konf.el"
    (let ((window-path "~/:C/Users/bjorwa/Documents/GitHub/Markedsanalyse/journaler/")
          (linux-path "~/GitHub/Markedsanalyse/journaler/"))
      (cond ((eq system-type 'windows-nt) (setq org-refile-targets (quote (((concat window-path "arkiv.org") :maxlevel . 2)
                                                                           ((concat window-path "liq.org") :maxlevel . 4)
                                                                           ((concat window-path "reg.org") :maxlevel . 4)
                                                                           ((concat window-path "master-energi.org.org") :maxlevel . 4)))))
            ((eq system-type 'gnu/linux) (setq org-refile-targets (quote (((concat linux-path "arkiv.org") :maxlevel . 2)
                                                                         ((concat linux-path "liq.org") :maxlevel . 4)
                                                                         ((concat linux-path "reg.org") :maxlevel . 4)
                                                                         ((concat linux-path "master-energi.org.org") :maxlevel . 4)))))))
  (advice-add 'org-refile :after 'org-save-all-org-buffers)
#+end_src
** Hydra
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/org-konf.el"
(require 'org-fc-hydra)
#+end_src
** Maler
*** Fangstmaler
Jeg bruker mange av disse fangstmalene både i arbeid og privat da det er noe som hjelper meg å samle, fange og lagre informasjon raskt. Dette viser også konfigureringen, skjønt det kan bli noe graps i koden. 
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/org-konf.el"
(cond ((eq system-type 'windows-nt)
       (setq org-capture-templates
       	     (quote (
       		     ("d" "drill/emner")
       		     ("db" "PowerBI" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/informatikk.org" "PowerBI")
       		      "** %? :drill:power_bi:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dd" "Database" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/informatikk.org" "Database")
       		      "** %? :drill:db:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("de" "Emacs config" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/informatikk.org" "Emacs")
       		      "** %? :drill:emacs:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
		     ("dg" "GitHub" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub/Notater/informatikk.org" "Git")
		      "** %? :drill:git:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("di" "Informatikk" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/informatikk.org" "Informatikk")
       		      "** %? :drill:informatikk:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dl" "Linux" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/informatikk.org" "Linux")
       		      "** %? :drill:linux:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dn" "Numpy" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/informatikk.org" "Numpy")
       		      "** %? :drill:python:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("do" "Office" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/informatikk.org" "Office")
       		      "** %? :drill:office:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dP" "Pandas" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/informatikk.org" "Pandas")
       		      "** %? :drill:python:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dp" "Python" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/informatikk.org" "Python")
       		      "** %? :drill:python:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dr" "Racket" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/informatikk.org" "Racket")
       		      "** %? :drill:scheme:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dx" "Excel" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/informatikk.org" "Racket")
       		      "** %? :drill:excel:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
		     ("f" "fortelling og retorikk")
		     ("ff" "fortelling" entry (file+olp "~C:/Users/bjorwa/Documents/GitHub/Notater/forret.org" "fortelling")
		      "* %?\n")
		     ("fr" "retorikk" entry (file+olp "~C:/Users/bjorwa/Documents/GitHub/Notater/forret.org" "retorikk")
		      "* %?\n")
       		     ("h" "handling/gjøremål")
       		     ("hg" "gjøremål" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/moeter.org" "gjøremål")
       		      "* TODO %?\n%^t")
       		     ("hm" "møter" entry (file+olp "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/moeter.org" "møter")
       		      "* %?\n%^t")
       		     ("j" "journal/føring")
       		     ("jd" "Dagbok" entry (file+datetree+prompt "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Journal/dagbok.org")
       		      "* %?\n")
       		     ("jf" "Fundamentals" entry (file+datetree+prompt "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Markedsanalyse/journaler/fundamentals.org")
       		      "* %?\nhjlink")
       		     ("jF" "Ferdigheter" entry (file+datetree+prompt "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/ferdigheter.org")
       		      "* %?\n")
       		     ("jj" "Journal" entry (file+datetree+prompt "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Markedsanalyse/journaler/journal.org")
       		      "* %?\nhjlink")
		     ("jr" "Retorikk og kommunikasjon" entry (file+datetree+prompt "~/C:/Users/bjorwa/Documents/GitHub/Journal/retorikk.org")
       		      "* %?\n")
       		     ("jø" "Økonomi" entry (file+datetree+prompt "~/C:/Users/bjorwa/Documents/GitHub//GitHub/Notater/econ.org")
		      		     ("t" "tabell")
		     ("th" "handel" table-line (file+headline "~/notebook/markedsvurdering.org" "dagsrapport" "handel")
		      "|%^u|%^{type}|%^{selger}|%^{kjøper}|%^{periode}|%^{incoterm}|%^{pris}|%^{kilde}|%^{kommentar}|")
       		      "* %?\n"))))
       )
      ((eq system-type 'gnu/linux)
       (setq org-capture-templates
       	     (quote (
       		     ("d" "drill")
       		     ("db" "PowerBI" entry (file+olp "~/GitHub/Notater/informatikk.org" "PowerBI")
       		      "** %? :drill:power_bi:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dd" "Database" entry (file+olp "~/GitHub/Notater/informatikk.org" "Database")
       		      "** %? :drill:db:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("de" "Emacs config" entry (file+olp "~/GitHub/Notater/informatikk.org" "Emacs")
       		      "** %? :drill:emacs:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
		     ("dg" "GitHub" entry (file+olp "~/GitHub/Notater/informatikk.org" "Git")
		      "** %? :drill:git:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("di" "Informatikk" entry (file+olp "~/GitHub/Notater/informatikk.org" "Informatikk")
       		      "** %? :drill:informatikk:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dl" "Linux" entry (file+olp "~/GitHub/Notater/informatikk.org" "Linux")
       		      "** %? :drill:linux:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dn" "Numpy" entry (file+olp "~/GitHub/Notater/informatikk.org" "Numpy")
       		      "** %? :drill:python:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("do" "Office" entry (file+olp "~/GitHub/Notater/informatikk.org" "Office")
       		      "** %? :drill:office:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dP" "Pandas" entry (file+olp "~/GitHub/Notater/informatikk.org" "Pandas")
       		      "** %? :drill:python:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dp" "Python" entry (file+olp "~/GitHub/Notater/informatikk.org" "Python")
       		      "** %? :drill:python:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dr" "Racket" entry (file+olp "~/GitHub/Notater/informatikk.org" "Racket")
       		      "** %? :drill:scheme:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
		     ("ds" "Samfunn" entry (file+olp "~/GitHub/Notater/samfunndrill.org" "begreper")
       		      "** %? :drill:samfunn:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
       		     ("dx" "Excel" entry (file+olp "~/GitHub/Notater/informatikk.org" "Racket")
       		      "** %? :drill:excel:\n:PROPERTIES:\n:DRILL_CARD_TYPE: twosided\n:end:\n# ")
		     ("f" "fortelling")
		     ("ff" "fortelling" entry (file+olp "~/GitHub/Notater/forret.org" "fortelling")
		      "* %?\n")
		     ("fr" "retorikk" entry (file+olp "~/GitHub/Notater/forret.org" "retorikk")
		      "* %?\n")
       		     ("h" "handling")
       		     ("hg" "gjøremål" entry (file+olp "~/GitHub/Notater/moeter.org" "gjøremål")
       		      "* TODO %?\n%^t")
       		     ("hm" "møter" entry (file+olp "~/GitHub/Notater/moeter.org" "møter")
       		      "* %?\n%^t")
       		     ("j" "journal")
       		     ("jd" "Dagbok" entry (file+datetree+prompt "~/GitHub/Journal/dagbok.org")
       		      "* %?\n")
       		     ("jf" "Fundamentals" entry (file+datetree+prompt "~/GitHub/Markedsanalyse/journaler/fundamentals.org")
       		      "* %?\nhjlink")
       		     ("jF" "Ferdigheter" entry (file+datetree+prompt "~/GitHub/Notater/ferdigheter.org")
       		      "* %?\n")
       		     ("jj" "Journal" entry (file+datetree+prompt "~/GitHub/Markedsanalyse/journaler/journal.org")
       		      "* %?\nhjlink")
		     ("jr" "Retorikk" entry (file+datetree+prompt "~/GitHub/Journal/retorikk.org")
       		      "* %?\n")
		     ("js" "Samfunn" entry (file+datetree+prompt "~/GitHub/Journal/samfunn.org")
       		      "* %?\n")
		     ("jt" "Trening" entry (file+datetree+prompt "~/GitHub/Journal/trening.org")
		      "* %?\n")
       		     ("jø" "Økonomi" entry (file+datetree+prompt "~/GitHub/Journal/econ.org") 
       		      "* %?\n")
		     ("t" "tabell")
		     ("tt" "trening" table-line (file+headline "~/GitHub/Journal/trening.org" "Tabell")
		      "|%^u|%^{type}|%^{oppvarming}|%^{runder}|%^{vekt}|%^{tid}|%^{kommentar}|")
		     )))))
#+end_src
*** Strukturmal
F.eks <pyt + TAB vil eksandere til Python med tangle.
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/org-konf.el"
  (require 'org-tempo)
  (add-to-list 'org-structure-template-alist '("el" . "src emacs-lisp"))
  (add-to-list 'org-structure-template-alist '("elt" . "src emacs-lisp :tangle"))
  (add-to-list 'org-structure-template-alist '("py" . "src python"))
  (add-to-list 'org-structure-template-alist '("pyt" . "src python :tangle"))
  (add-to-list 'org-structure-template-alist '("sr" . "src racket"))
  (add-to-list 'org-structure-template-alist '("srt" . "src racket :tangle"))
#+end_src
** Terping
En strukturert terping av viktig informasjon, metoder og teknikker er viktig for meg da jeg har en teflonhjerne som ikke raskt absorberer. Dette tror jeg er en pakke som ikke jevnlig oppdateres, om i det hele tatt. Og her har jeg hatt litt problemer med en feilmelding og kluss med kode som jeg på et vil klarte å kontrollere ved å blokke ut noe av koden i modulens el-fil (laster denne inn i stedet for elc-filen, [[file:Notater/ferdigheter.org::*Feil under Emacs-konfigurering][beskrivelse i filen ferdigheter.org]]).
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/org-konf.el"
  (require 'org-drill)

  (use-package org-drill
    :ensure t
    ;; https://gitlab.com/phillord/org-drill/
    :config
    (setq org-drill-maximum-duration 20
          org-drill-spaced-repetition-algorithm 'sm2
          org-drill-add-random-noise-to-intervals-p t
          org-drill-adjust-intervals-for-early-and-late-repetitions-p t))
#+end_src
** Org-babe for "literate programming"
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/org-konf.el"
  (org-babel-do-load-languages
   'org-babel-load-languages (quote ((emacs-lisp . t)
                                     (racket . t)
                                     (sqlite . t)
                                     (python . t))))
#+end_src
* Maler
** Yasnippet
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/maler.el"
  (use-package yasnippet
    :ensure t
    :diminish yas-minor-mode
    :init (yas-global-mode)
    :config
    (yas-global-mode)
    (add-hook 'hippie-expand-try-functions-list 'yas-hippie-try-expand)
    (setq yas-key-syntaxes '("w_" "w_." "^ "))
  ;;    (setq yas-installed-snippets-dir "~/elisp/yasnippet-snippets")
    (setq yas-expand-only-for-last-commands nil)
    (yas-global-mode 1)
    (bind-key "\t" 'hippie-expand yas-minor-mode-map)
    (add-to-list 'yas-prompt-functions 'shk-yas/helm-prompt)
    (global-set-key (kbd "C-c y") (lambda () (interactive)
                                    (yas/load-directory "~/elisp/snippets"))))
#+end_src

* Register
** Linux
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/linreg.el"
  (set-register ?d '(file . "~/GitHub/Journal/dagbok.org"))
  (set-register ?t '(file . "~/GitHub/Journal/trening.org"))
  (set-register ?c '(file . "~/GitHub/emacs-config/custom.el"))
  (set-register ?g '(file . "~/GitHub/"))
  (set-register ?c '(file . "~/GitHub/Notater/ferdigheter.org"))
  (set-register ?k '(file . "~/GitHub/emacs-config/README.org"))
  (set-register ?i '(file . "~/GitHub/Notater/informatikk.org"))
  (set-register ?j '(file . "~/GitHub/Markedsanalyse/journaler/journal.org")))
  (set-register ?l '(file . "~/GitHub/Markedsanalyse/journaler/liq.org")))
  (set-register ?r '(file . "~/GitHub/Markedsanalyse/journaler/reg.org")))
  (set-register ?e '(file . "~/.emacs")))
#+end_src
** windows
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/winreg.el"
  (set-register ?c '(file . "~C:\\Users\\bjorwa\\Documents\\GitHub\\emacs-config\\custom.el"))
  (set-register ?g '(file . "~C:\\Users\\bjorwa\\Documents\\GitHub\\"))
  (set-register ?c '(file . "~C:\\Users\\bjorwa\\Documents\\GitHub\\Notater\\ferdigheter.org"))
  (set-register ?k '(file . "~C:\\Users\\bjorwa\\Documents\\GitHub\\emacs-config\\README.org"))
  (set-register ?i '(file . "~C:\\Users\\bjorwa\\Documents\\GitHub\\Notater\\informatikk.org"))
  (set-register ?j '(file . "~C:\\Users\\bjorwa\\Documents\\GitHub\\Markedsanalyse\\journaler\\informatikk.org"))
  (set-register ?l '(file . "~C:\\Users\\bjorwa\\Documents\\GitHub\\Markedsanalyse\\journaler\\liq.org"))
  (set-register ?r '(file . "~C:\\Users\\bjorwa\\Documents\\GitHub\\Markedsanalyse\\journaler\\reg.org"))
  (set-register ?e '(file . "~C:\\Users\\bjorwa\\AppData\\Roaming\\.emacs"))
#+end_src
* Kommandoer og tastebinding
Samling av kommandoer og tastebindinger som ikke nødvendigvis knyttes mot en Emacs-pakke.
#+begin_src emacs-lisp :tangle "~/GitHub/emacs-config/gkb.el"
(global-set-key (kbd "\C-x\C-k") 'kill-region)
(global-set-key (kbd "\C-c\C-k") 'kill-region)

(global-set-key (kbd "C-<up>") 'text-scale-increase)
(global-set-key (kbd "C-<down>") 'text-scale-decrease)
(global-set-key (kbd "C-<wheel-up>") 'text-scale-increase)
(global-set-key (kbd "C-<wheel-down>") 'text-scale-decrease)

(global-set-key (kbd "C-c r") 'comment-region)
(global-set-key (kbd "C-c u") 'uncomment-region)

(global-set-key (kbd "C-x a") 'define-global-abbrev)

(global-set-key (kbd "C-c l") 'org-store-link)

(global-set-key (kbd "C-x C-<up>") 'windmove-up)
(global-set-key (kbd "C-x C-<down>") 'windmove-down)
(global-set-key (kbd "C-x C-<left>") 'windmove-left)
(global-set-key (kbd "C-x C-<right>") 'windmove-right)

(global-set-key (kbd "\M-?") 'help-command)
(global-set-key (kbd "<f1>") 'enlarge-window)
(global-set-key (kbd "<f2>") 'shrink-window)
(global-set-key (kbd "<f3>") 'shrink-window-horizontally)
(global-set-key (kbd "<f4>") 'enlarge-window-horizontally)
;; (global-set-key (kbd "<f5>") 'org-copy-subtree) ;; i custom.el
(global-set-key (kbd "<f9>") 'calc)
(global-set-key (kbd "<f11>") 'describe-function)
(global-set-key (kbd "<f12>") '(lambda ()
				 (interactive)
				 (popup-menu 'yank-menu)))
(global-set-key (kbd "\M-?") 'help-command)
#+end_src

